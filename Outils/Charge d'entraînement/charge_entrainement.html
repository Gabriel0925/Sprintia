<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Sprintia - Charge d'entraînement</title>
    <meta charset="utf-8">
    <meta name="description" content="Sprintia : Des outils gratuits pour analyser et optimiser vos entraînements.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../../CSS/style.css">
    <link rel="icon" type="image/svg+xml" href="../../Assets/icons-sprintia/Logo-Sprintia-Head-Clair.svg" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/svg+xml" href="../../Assets/icons-sprintia/Logo-Sprintia-Head-Sombre.svg" media="(prefers-color-scheme: dark)">

    <link rel="manifest" href="../../manifest.json">

    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Sprintia">
    <link rel="apple-touch-icon" href="../../Assets/icons-sprintia/icon-ios.png">
    
    <script src="../../Paramètres/script_themes.js"></script>
</head>  

<body>
    <header>
        <div class="navbar">
            <div class="logo">
                <a href="../../index.html">Sprintia</a>
            </div>
            <ul class="links">
                <li>
                    <a href="../../index.html">
                        <i class="fs-icon_accueil"></i>
                        Accueil
                    </a>
                </li>
                <li>
                    <a class="actif" href="../outils.html">
                        <i class="fs-icon_outils"></i>
                        Outils
                    </a>
                </li>
                <li>
                    <a href="../../Paramètres/parametres.html">
                        <i class="fs-icon_parametres"></i>
                        Paramètres
                    </a>
                </li>
            </ul>
            <div class="burger-menu-button">
                <i class="fs-icon_menu"></i>
            </div>
        </div>

        <div class="burger-menu">
            <ul class="links">
                <li>
                    <a href="../../index.html">
                        <i class="fs-icon_accueil"></i>
                        Accueil
                    </a>
                </li>
                <li>
                    <a class="actif-burger-menu" href="../outils.html">
                        <i class="fs-icon_outils"></i>
                        Outils
                    </a>
                </li>
                <li>
                    <a href="../../Paramètres/parametres.html">
                        <i class="fs-icon_parametres"></i>
                        Paramètres
                    </a>
                </li>
            </ul>
        </div>
    </header>

    <div class="conteneur-de-outil">
        <h1>Charge d'entraînement</h1>

        <div class="conteneur-action-charge">

            <a href="../Actions/ajouter_entraînement.html">
                <div class="button-more" id="add">
                    <div class="icon-more">
                        <i id="icone-action-charge" class="fs-icon_add"></i>
                    </div>
                    <p class="txt_plus" id="bouton-action-charge">Ajouter</p>
                </div>
            </a>
            <a href="../Actions/historique_entrainement.html">
                <div class="button-more" id="historique">
                    <div class="icon-more">
                        <i id="icone-action-charge" class="fs-icon_historique"></i>
                    </div>
                    <p class="txt_plus" id="bouton-action-charge">Historique</p>
                </div>
            </a>
            <a href="../Actions/statut_analyses.html">
                <div class="button-more" id="statut">
                    <div class="icon-more">
                        <i id="icone-action-charge" class="fs-icon_pause"></i>
                    </div>
                    <p class="txt_plus" id="bouton-action-charge">Statut</p>
                </div>
            </a>

        </div>

        <div class="conteneur-ensemble">
            <div class="conteneur-box-deux">
                
                <div class="box-result-deux" id="charge-entrainement">
                    <p class="score-imc" id="nom-coach">JRM Coach :</p>
                    <p class="zone-imc" id="reponse-coach-indulgence">
                        Chargement...
                    </p> 
                </div>

                <div class="conteneur-box-deux">
                    <div class="box-result-deux-small">
                        <p class="score-imc" id="charge-entrainement-score">Charge 7J</p>
                        <p class="temps-recup charge" id="charge-7j">
                            0
                        </p>
                    </div>
                    <div class="box-result-deux-small">
                        <p class="score-imc" id="charge-entrainement-score">Charge 28J</p>
                        <p class="temps-recup charge" id="charge-28j">
                            0
                        </p>
                    </div>  
                </div>

            </div>
        </div> 

        <div class="chart-container" id="conteneur-graphique">
            <!--"aria-label" pr l'accesssibilité pr decrire a ceux qui ne voit pas-->
            <canvas id="barCanvas" aria-label="chart" role="img"></canvas>
        </div>

        <h2>C'est quoi la charge d'entraînement ?</h2>
        <p class="text">
            La charge d'entraînement permet de quantifier le stress physique imposé à votre corps
            durant les 7 derniers jours. La charge d'entraînement prend en compte la durée de 
            l'entraînement et l'effort fourni durant cet entraînement. La charge des 7 derniers jours
            est comparée sur les 28 derniers jours afin d'avoir une idée de votre progression par 
            rapport à avant. En respectant la charge d'entraînement vous réduisez le risque de vous blesser.
        </p>

        <h2>À quoi ça sert la charge d'entraînement ?</h2>
        <p class="text">
            La charge d'entraînement sert à optimiser l'intensité et le volume de vos entraînements futurs.
        </p>
    </div>
    
    <footer>
        <div class="conteneur-lien-footer">
            <a class="a_title">Catégories</a>
            <a class="a_footer" href="../../index.html">Accueil</a>
            <a class="a_footer" href="../outils.html">Outils</a>
            <a class="a_footer" href="../../Paramètres/parametres.html">Paramètres</a>
            <a class="a_footer" href="../../Paramètres/Historique versions/historique versions.html">Historique des versions</a>
            <a class="a_footer" href="../../Paramètres/Thèmes/themes.html">Thèmes</a>
        </div>
           
        <div class="conteneur-lien-footer">             
            <a class="a_title">Outils conseillés</a>
            <a class="a_footer" href="charge_entrainement.html">Charge d'entraînement</a>
            <a class="a_footer" href="../Estimation VO2max/estimation_VO2max.html">Estimation VO₂max</a>
            <a class="a_footer" href="../Niveau de course à pied/niveau_course.html">Niveau de course à pied</a>
        </div>
            
        <div class="conteneur-lien-footer">
            <a class="a_title">Autres</a>
            <a class="a_footer" href="../../Paramètres/Licence/Licence.html">Licence (© 2026 Sprintia)</a>
            <a class="a_footer" href="../../Paramètres/Confidentialité/confidentialite.html">Politique de confidentialité</a>
        </div>
    </footer>

    <!-- Pour le burger menu -->
    <script src="../../Assets/base-js/base.js"></script>

    <!-- Import de la bibliothèque pr le graphique -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>   
    <!-- Import bibliothèque pour simplifier le code de indexed db -->
    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
    <script src="../../Assets/base-js/DB_config.js"></script> <!-- Connexion bdd -->

    <!-- Pour le JRM Coach -->
    <script>
        async function JRMCoachUser() {
            let CoachUserDB = await db.JRM_Coach.toArray()

            if (CoachUserDB.length > 0) { // Si il y a des datas on recup le nom et l'avatar et on l'affiche dans le coach JRM
                let NomCoach = CoachUserDB.map(elementDB => elementDB.nom)
                let AvatarCoach = CoachUserDB.map(elementDB => elementDB.avatar)
                
                document.getElementById("nom-coach").textContent = AvatarCoach + " " + NomCoach + " :"
            }
        }

        window.addEventListener("DOMContentLoaded", () => {
            JRMCoachUser()
        })
    </script>

    <script src="script_outil.js"></script>

    <script>
        // pour le theme complet pour changer les couleurs des icones
        window.addEventListener("DOMContentLoaded", () => {
            let PreferenceUser = localStorage.getItem("ToggleThemeComplet")
            let ModeUse = localStorage.getItem("ThemeActuel")
            
            if (PreferenceUser == "True") {
                // Recup des champs
                let ButtonAdd = document.getElementById("add")
                let IconeAdd = document.querySelector(".fs-icon_add")

                let ButtonHistorique = document.getElementById("historique")
                let IconeHistorique = document.querySelector(".fs-icon_historique")

                let ButtonPause = document.getElementById("statut")
                let IconePause = document.querySelector(".fs-icon_pause")
                                        
                let TextInterieurButton = document.querySelectorAll(".txt_plus")

                // Recup variable css
                const Style = getComputedStyle(document.documentElement)

                const CouleurAccent2 = Style.getPropertyValue("--COULEUR_ACCENT2")
                const CouleurBackground = Style.getPropertyValue("--COULEUR_BACKGROUND")

                if (ButtonAdd && ButtonHistorique && ButtonPause) {
                    // changement couleur text in button
                    TextInterieurButton.forEach(TextButton => {
                        TextButton.style.color = CouleurBackground                    
                    });

                    // Mise des couleurs si l'élément est existant
                    ButtonAdd.style.background = CouleurAccent2
                    ButtonAdd.style.boxShadow = "none"
                    IconeAdd.style.color = CouleurBackground
                            
                    ButtonHistorique.style.background = CouleurAccent2
                    ButtonHistorique.style.boxShadow = "none"
                    IconeHistorique.style.color = CouleurBackground

                    ButtonPause.style.background = CouleurAccent2
                    ButtonPause.style.boxShadow = "none"
                    IconePause.style.color = CouleurBackground
                }
            }
        })
    </script>

    
    <!-- Pour avoir les statistiques de visite du site -->
    <script defer src="/_vercel/insights/script.js"></script>
</body>
</html>